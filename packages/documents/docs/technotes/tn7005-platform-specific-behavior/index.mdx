---
sidebar_position: 7005
---

# TN7005: Developing Platform Specific Behavior

## Abstract

Recative System provides two different dependency injection methods, the
`userImplementedFunctions` and the `playerPropsHookDependencies`, this may
confuse new incomers. To be short, they are designed for different use cases,
`userImplementedFunctions` is for episode level features and
`playerPropsHookDependencies` is **only** for the development of
[customized interface](/docs/technotes/tn7004-interface-components)
in this article, we will give them a brief glance.

## User Implemented Functions

User implemented functions are a set of required function implementation for
different types of clients and platforms, you can get all the [API documents](/api/definitions/interface/RawUserImplementedFunctions)
of the user implemented functions, and here are some basic ideas about how to
implement them correctly.

### Full Screen Mode

`enableAppFullScreenMode` and `disableAppFullScreenMode` need to be implemented
separately on different platforms, like on Web platform, we only need to use the
[Full Screen API](https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API),
but on the desktop platform, like Electron, we may need to call the methods on
the [main process](https://www.electronjs.org/docs/latest/api/browser-window#class-browserwindow)
and on the mobile platform, developers may need to use the [Ionic extension](https://www.npmjs.com/package/@ionic-native/android-full-screen)
or the [Status Bar API](https://reactnative.dev/docs/statusbar.html) to make
your application fill all the available space on the screen.

### Persistence Storage

`getSavedData` and `setSavedData` provides a standard way to make interactive
programs save persistence its data. There are different ways to achieve the
goal, for the web platform, if you want to make sure your data is very robust,
won't be erased by any browser strategies (especially Safari), saving the data
with a backend service is always a good idea, or we just need to use the
[localStorage API](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)
and [IndexedDB API](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API).
to save the data. But for the mobile platform and desktop client, save data to
the hard disk is robust enough so we do not need to do anything further.

### Navigation

If your platform handles multiple series of content, you may need to implement
the navigating logic in the `gotoSeries` method, and if you need to navigate
among multiple episodes (like implementing a contents page with interactive
program), you may need to implement a `gotoEpisode` method.

These two methods are only used in the interactive program, so if you are making
a pure video experience, ignoring them are safe.

### Progress Management

There are a series of APIs which allow the interactive program to implement
progress management related behavior, here are some possible use cases:

- Sending a diagnosis data or log the progress while users finished an asset;
- Navigating to the catalog episode while an episode have finished its playback;
- If there is a dependency between episodes, you can only watch another episode
  after watching another.

There features can be made via implementing the `finishEpisode`, `unlockEpisode`,
`unlockAsset` method.

:::info
Please notice that except `enableAppFullScreenMode` and
`playerPropsHookDependencies`, all other methods are not necessary if your
project does not need these features.
:::

## Customized Interface Dependencies

The customized interface dependencies is just a pipe which pass your native
implementation features from the client shells to the customized interface
module. You provide the property via `playerPropsHookDependencies`, and the
`dependencies` property of the [container component](/docs/technotes/tn7004-interface-components#wrapping-the-player)
will retrieve them with some additional methods:

- `fetchData`: Which allow developers to get metadata generated by the Recative
  Studio, without being bothered by the tasks like building up the URL and data
  decoding.
- `normalizeEpisodeId`: The Recative System supports both [episode ID](/api/definitions/interface/IEpisode#id)
  and [episode order](/api/definitions/interface/IEpisode#order) as the basis
  for indexing episodes. This function can help you normalize the two type of
  values into a consistent episode ID and check whether the episode ID is valid.
